name: Test
description: Tests the composite action

inputs:
  projects-path:
    description: The path to the projects to test
    required: true

runs:
  using: composite
  steps:
    - name: Test
      shell: bash
      working-directory: ${{ inputs.projects-path }}
      run: |
        for project in $(find . -name '*Tests.csproj' -type f); do
          dotnet test $project --configuration Release --no-restore --verbosity normal
        done